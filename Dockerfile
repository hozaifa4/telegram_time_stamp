# একটি আনুষ্ঠানিক পাইথন ইমেজকে ভিত্তি হিসেবে ব্যবহার করা হচ্ছে
FROM python:3.11-slim

# কন্টেইনারের ভেতরে কাজের জন্য একটি ফোল্ডার তৈরি করা হচ্ছে
WORKDIR /app

# প্রয়োজনীয় লাইব্রেরির তালিকাটি কন্টেইনারে কপি করা হচ্ছে
COPY requirements.txt .

# requirements.txt ফাইলে থাকা সব লাইব্রেরি ইনস্টল করা হচ্ছে
RUN pip install --no-cache-dir -r requirements.txt

# আপনার অ্যাপ্লিকেশনের বাকি সব কোড কন্টেইনারে কপি করা হচ্ছে
COPY . .

# কন্টেইনারের ভেতরের ৫০০০ নম্বর পোর্টটি বাইরের জগতের জন্য উন্মুক্ত করা হচ্ছে
EXPOSE 5000

# gunicorn ব্যবহার করে অ্যাপ্লিকেশনটি চালানোর জন্য কমান্ড দেওয়া হচ্ছে
# এটি Flask-এর ডিফল্ট সার্ভারের চেয়ে অনেক বেশি শক্তিশালী
CMD ["gunicorn", "--workers=4", "--bind=0.0.0.0:5000", "app:app"]